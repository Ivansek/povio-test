{% extends "blog/base.html" %}
{% block base_content %}
{% if user.is_authenticated %}
<div ng-controller="NewPostController">
    <div ng-show="!is_error && submitted" ng-class="alert alert-success">New post saved!</div>
    <form ng-submit="processForm()">
        <div class="form-group">
            <label>Title</title>
            <input type="text" name="title" ng-model="formData.title">
            <span ng-bind="errors['title']"></span>
        </div>
        <div class="form-group">
            <label>Description</title>
            <textarea class="form-control" name="description" ng-model="formData.description"></textarea>
            <div ng-class="{'alert alert-warning': errors['description']}" ng-bind="errors['description']"></div>
        </div>
        <div>
            <input type="submit">
        </div>
    </form>
</div>
{% else %}
    You are not logged in!
{% endif %}
{% endblock %}
